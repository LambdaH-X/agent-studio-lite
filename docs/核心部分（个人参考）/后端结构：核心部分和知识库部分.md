# 后端结构学习
HTTP Request 
    ↓
Controller (接收DTO/VO，调用Service)
    ↓
Service (处理业务逻辑，使用Entity)
    ↓
Entity (数据模型，对应数据库表结构)
    ↓
Mapper (操作Entity对象)
    ↓
Mapper.xml (SQL映射Entity字段)
    ↓
Database


# 知识库部分
假设技术栈：Spring Boot + MyBatis-Plus + MySQL + Milvus。

## 知识库上传与向量化流程
HTTP Request (上传文档/知识)
    ↓
KnowledgeController (接收UploadReqDTO，返回UploadRespVO)
    ↓
KnowledgeService (处理文档解析、文本分块、调用向量化服务)
    ↓
Entity (KnowledgeChunkEntity 知识块实体，对应MySQL表)
    ↓
KnowledgeChunkMapper (操作KnowledgeChunkEntity对象)
    ↓
Mapper.xml (SQL映射KnowledgeChunkEntity字段)
    ↓
MySQL (存储原始知识块、元数据)
    ↓
VectorService (调用Embedding模型，生成向量)
    ↓
MilvusService (将向量存入Milvus向量数据库)
    ↓
Milvus (存储向量、关联KnowledgeChunkEntity的id)

## 智能问答检索流程
HTTP Request (用户问题)
    ↓
ChatController (接收QueryReqDTO，返回QueryRespVO)
    ↓
ChatService (处理业务逻辑，调用检索服务)
    ↓
RetrievalService (将问题向量化，进行相似度检索)
    ↓
MilvusService (在Milvus中执行向量相似度搜索)
    ↓
Milvus (返回最相似的向量ID列表)
    ↓
KnowledgeChunkMapper (根据返回的ID列表，查询原始知识内容)
    ↓
MySQL (返回对应的原始知识块)
    ↓
LLMService (组装提示词，调用大语言模型API)
    ↓
OpenAI / 文心一言 / 通义千问等 (生成最终答案)
    ↓
ChatService (处理并返回答案，可能包含溯源信息)